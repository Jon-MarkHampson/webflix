{% extends 'layout.html' %} {% block title %}Edit User - {{ user.name }} {%
endblock %} {% block content %}

<div class="container mt-4">
  <h2>Edit User: {{ user.name }}</h2>

  <div class="edit-user-form">
    <form
      action="{{ url_for('update_user', user_id=user.id) }}"
      method="post"
      enctype="multipart/form-data"
    >
      <div class="form-group">
        <label for="name">Name:</label>
        <input
          type="text"
          id="name"
          name="name"
          value="{{ user.name }}"
          class="form-control"
          required
        />
      </div>
      <div class="form-group">
        <label for="profile_pic">Profile Picture:</label>
        {% if user.profile_pic_url %}
        <div class="current-pic">
          Current:
          <img
            src="{{ user.profile_pic_url }}"
            alt="Current profile picture"
            width="50"
            height="50"
            class="ms-2"
          />
        </div>
        {% else %}
        <p>No current profile picture.</p>
        {% endif %}
        <label for="profile_pic" class="mt-2">Upload New (Optional):</label>
        <input
          type="file"
          id="profile_pic"
          name="profile_pic"
          class="form-control"
          accept="image/*"
        />
        <small>Uploading a new picture will replace the current one.</small>
      </div>
      <div class="form-actions">
        <button type="submit" class="button button-primary">Update User</button>
        <a href="{{ url_for('list_users') }}" class="button button-cancel"
          >Cancel</a
        >
      </div>
    </form>
  </div>
</div>
{% endblock %}
