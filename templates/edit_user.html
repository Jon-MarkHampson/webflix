{% extends 'layout.html' %} {% block title %}Edit User - {{ user.name }}{%
endblock %} {% block content %}
<h1>Edit User: {{ user.name }}</h1>

<div class="edit-user-form">
  <form
    action="{{ url_for('update_user', user_id=user.id) }}"
    method="post"
    enctype="multipart/form-data"
  >
    <div class="form-group">
      <label for="name">Name:</label>
      <input
        type="text"
        id="name"
        name="name"
        value="{{ user.name }}"
        required
      />
    </div>
    <div class="form-group">
      <label for="profile_pic">Profile Picture:</label>
      {% if user.profile_pic_url %}
      <div class="current-pic">
        Current:
        <img
          src="{{ user.profile_pic_url }}"
          alt="Current profile picture"
          width="50"
          height="50"
          style="vertical-align: middle; margin-left: 10px"
        />
      </div>
      {% else %}
      <p>No current profile picture.</p>
      {% endif %}
      <label for="profile_pic" style="margin-top: 10px"
        >Upload New (Optional):</label
      >
      <input type="file" id="profile_pic" name="profile_pic" accept="image/*" />
      <small>Uploading a new picture will replace the current one.</small>
    </div>
    <div class="form-actions">
      <button type="submit">Update User</button>
      <a href="{{ url_for('list_users') }}" class="button button-cancel"
        >Cancel</a
      >
      {# Added button class #}
    </div>
  </form>
</div>
{% endblock %}
